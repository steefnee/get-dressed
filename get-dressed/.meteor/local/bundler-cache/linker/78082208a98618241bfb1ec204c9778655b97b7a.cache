[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar Template = Package.templating.Template;\nvar Session = Package.session.Session;\nvar Blaze = Package.blaze.Blaze;\nvar UI = Package.blaze.UI;\nvar Handlebars = Package.blaze.Handlebars;\nvar ReactiveVar = Package['reactive-var'].ReactiveVar;\nvar Spacebars = Package.spacebars.Spacebars;\nvar HTML = Package.htmljs.HTML;\n\n/* Package-scope variables */\nvar MeteorCamera;\n\n(function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// packages/mdg_camera/template.photo.js                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n                                                                                                                // 1\nTemplate.__checkName(\"camera\");                                                                                 // 2\nTemplate[\"camera\"] = new Template(\"Template.camera\", (function() {                                              // 3\n  var view = this;                                                                                              // 4\n  return [ HTML.Raw('<div class=\"camera-overlay\">\\n    \\n  </div>\\n\\n  '), HTML.DIV({                           // 5\n    \"class\": function() {                                                                                       // 6\n      return [ \"camera-popup \", Blaze.If(function() {                                                           // 7\n        return Spacebars.call(view.lookup(\"permissionDeniedError\"));                                            // 8\n      }, function() {                                                                                           // 9\n        return \"camera-popup-wide\";                                                                             // 10\n      }) ];                                                                                                     // 11\n    }                                                                                                           // 12\n  }, \"\\n    \", Blaze.If(function() {                                                                            // 13\n    return Spacebars.call(view.lookup(\"error\"));                                                                // 14\n  }, function() {                                                                                               // 15\n    return [ \"\\n      \", Blaze.If(function() {                                                                  // 16\n      return Spacebars.call(view.lookup(\"permissionDeniedError\"));                                              // 17\n    }, function() {                                                                                             // 18\n      return [ \"\\n        \", Spacebars.include(view.lookupTemplate(\"permissionDenied\")), \"\\n      \" ];          // 19\n    }, function() {                                                                                             // 20\n      return [ \"\\n        \", Blaze.If(function() {                                                              // 21\n        return Spacebars.call(view.lookup(\"browserNotSupportedError\"));                                         // 22\n      }, function() {                                                                                           // 23\n        return [ \"\\n          \", Blaze._TemplateWith(function() {                                               // 24\n          return {                                                                                              // 25\n            message: Spacebars.call(\"Sorry, this browser is currently not supported for camera functionality.\")\n          };                                                                                                    // 27\n        }, function() {                                                                                         // 28\n          return Spacebars.include(view.lookupTemplate(\"genericError\"));                                        // 29\n        }), \"\\n        \" ];                                                                                     // 30\n      }, function() {                                                                                           // 31\n        return [ \"\\n          \", Blaze._TemplateWith(function() {                                               // 32\n          return {                                                                                              // 33\n            message: Spacebars.call(\"There was an error accessing the camera.\")                                 // 34\n          };                                                                                                    // 35\n        }, function() {                                                                                         // 36\n          return Spacebars.include(view.lookupTemplate(\"genericError\"));                                        // 37\n        }), \"\\n        \" ];                                                                                     // 38\n      }), \"\\n      \" ];                                                                                         // 39\n    }), \"\\n    \" ];                                                                                             // 40\n  }, function() {                                                                                               // 41\n    return [ \"\\n      \", Blaze.If(function() {                                                                  // 42\n      return Spacebars.call(view.lookup(\"photo\"));                                                              // 43\n    }, function() {                                                                                             // 44\n      return [ \"\\n        \", HTML.DIV({                                                                         // 45\n        \"class\": \"center\"                                                                                       // 46\n      }, \"\\n          \", HTML.IMG({                                                                             // 47\n        src: function() {                                                                                       // 48\n          return Spacebars.mustache(view.lookup(\"photo\"));                                                      // 49\n        },                                                                                                      // 50\n        \"class\": \"photo-preview\"                                                                                // 51\n      }), \"\\n          \", HTML.DIV(\"\\n            \", HTML.BUTTON({                                              // 52\n        \"class\": \"button use-photo\"                                                                             // 53\n      }, \"Use Photo\"), \"\\n            \", HTML.BUTTON({                                                          // 54\n        \"class\": \"button new-photo\"                                                                             // 55\n      }, \"Take New Photo\"), \"\\n          \"), \"\\n        \"), \"\\n      \" ];                                       // 56\n    }, function() {                                                                                             // 57\n      return [ \"\\n        \", Spacebars.include(view.lookupTemplate(\"viewfinder\")), \"\\n      \" ];                // 58\n    }), \"\\n    \" ];                                                                                             // 59\n  }), \"\\n  \") ];                                                                                                // 60\n}));                                                                                                            // 61\n                                                                                                                // 62\nTemplate.__checkName(\"viewfinder\");                                                                             // 63\nTemplate[\"viewfinder\"] = new Template(\"Template.viewfinder\", (function() {                                      // 64\n  var view = this;                                                                                              // 65\n  return [ HTML.DIV({                                                                                           // 66\n    \"class\": \"viewfinder\"                                                                                       // 67\n  }, \"\\n    \", HTML.VIDEO({                                                                                     // 68\n    id: \"video\",                                                                                                // 69\n    \"class\": function() {                                                                                       // 70\n      return Blaze.If(function() {                                                                              // 71\n        return Spacebars.call(view.lookup(\"waitingForPermission\"));                                             // 72\n      }, function() {                                                                                           // 73\n        return \"hidden\";                                                                                        // 74\n      });                                                                                                       // 75\n    }                                                                                                           // 76\n  }, \"\\n      \"), \"\\n    \\n    \", HTML.DIV(\"\\n      \", Blaze.If(function() {                                    // 77\n    return Spacebars.call(view.lookup(\"waitingForPermission\"));                                                 // 78\n  }, function() {                                                                                               // 79\n    return [ \"\\n        \", HTML.P(\"Waiting for camera permissions...\"), \"\\n      \" ];                           // 80\n  }, function() {                                                                                               // 81\n    return [ \"\\n        \", HTML.BUTTON({                                                                        // 82\n      \"class\": \"button shutter\"                                                                                 // 83\n    }, \"Take Photo\"), \"\\n      \" ];                                                                             // 84\n  }), \"\\n      \", HTML.Raw('<button class=\"button cancel\">Cancel</button>'), \"\\n    \"), \"\\n  \"), HTML.Raw('\\n\\n  <canvas id=\"canvas\" style=\"visibility: hidden\"></canvas>') ];\n}));                                                                                                            // 86\n                                                                                                                // 87\nTemplate.__checkName(\"genericError\");                                                                           // 88\nTemplate[\"genericError\"] = new Template(\"Template.genericError\", (function() {                                  // 89\n  var view = this;                                                                                              // 90\n  return HTML.DIV({                                                                                             // 91\n    \"class\": \"generic-error\"                                                                                    // 92\n  }, \"\\n    \", HTML.P(Blaze.View(\"lookup:message\", function() {                                                 // 93\n    return Spacebars.mustache(view.lookup(\"message\"));                                                          // 94\n  })), HTML.Raw('\\n    <button class=\"button cancel\">Close Popup</button>\\n  '));                               // 95\n}));                                                                                                            // 96\n                                                                                                                // 97\nTemplate.__checkName(\"permissionDenied\");                                                                       // 98\nTemplate[\"permissionDenied\"] = new Template(\"Template.permissionDenied\", (function() {                          // 99\n  var view = this;                                                                                              // 100\n  return HTML.Raw('<div class=\"permission-denied-error\">\\n    <h2>Camera Permissions Denied</h2>\\n\\n    <p>\\n      You have denied this app permission to use your camera.\\n      If you would like to allow permissions, follow the directions for your\\n      browser below.\\n    </p>\\n\\n    <dl class=\"permissions-howto\">\\n      <dt>Google Chrome</dt>\\n        <dd>Go to Settings > \"Show advanced settings...\" >\\n          \"Content settings...\" > Media heading > \"Manage exceptions...\",\\n          then find this website in the list and allow video capture.</dd>\\n      <dt>Mozilla Firefox</dt>\\n        <dd>Reload the page and try again.</dd>\\n      <dt>Opera</dt>\\n        <dd>Go to Preferences > Websites > Media heading >\\n          \"Manage exceptions...\", then find this website in the list and\\n          allow video capture.</dd>\\n    </dl>\\n\\n    <button class=\"button cancel\">Close Popup</button>\\n  </div>');\n}));                                                                                                            // 102\n                                                                                                                // 103\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// packages/mdg_camera/photo.js                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nMeteorCamera = {};                                                                                              // 1\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// packages/mdg_camera/photo-cordova.js                                                                         //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nMeteorCamera.getPicture = function (options, callback) {                                                        // 1\n  // if options are not passed                                                                                  // 2\n  if (! callback) {                                                                                             // 3\n    callback = options;                                                                                         // 4\n    options = {};                                                                                               // 5\n  }                                                                                                             // 6\n                                                                                                                // 7\n  var success = function (data) {                                                                               // 8\n    callback(null, \"data:image/jpeg;base64,\" + data);                                                           // 9\n  };                                                                                                            // 10\n                                                                                                                // 11\n  var failure = function (error) {                                                                              // 12\n    callback(new Meteor.Error(\"cordovaError\", error));                                                          // 13\n  };                                                                                                            // 14\n                                                                                                                // 15\n  navigator.camera.getPicture(success, failure,                                                                 // 16\n    _.extend(options, {                                                                                         // 17\n      quality: options.quality || 49,                                                                           // 18\n      targetWidth: options.width || 640,                                                                        // 19\n      targetHeight: options.height || 480,                                                                      // 20\n      destinationType: Camera.DestinationType.DATA_URL                                                          // 21\n    })                                                                                                          // 22\n  );                                                                                                            // 23\n};                                                                                                              // 24\n                                                                                                                // 25\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\nPackage['mdg:camera'] = {\n  MeteorCamera: MeteorCamera\n};\n\n})();\n","servePath":"/packages/mdg_camera.js","sourceMap":{"version":3,"sources":["/packages/mdg_camera/template.photo.js","/packages/mdg_camera/photo.js","/packages/mdg_camera/photo-cordova.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sH;;;;;;;;;;;;;;;;;;ACtGA,oH;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qH","file":"/packages/mdg_camera.js","sourcesContent":["\nTemplate.__checkName(\"camera\");\nTemplate[\"camera\"] = new Template(\"Template.camera\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"camera-overlay\">\\n    \\n  </div>\\n\\n  '), HTML.DIV({\n    \"class\": function() {\n      return [ \"camera-popup \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"permissionDeniedError\"));\n      }, function() {\n        return \"camera-popup-wide\";\n      }) ];\n    }\n  }, \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"error\"));\n  }, function() {\n    return [ \"\\n      \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"permissionDeniedError\"));\n    }, function() {\n      return [ \"\\n        \", Spacebars.include(view.lookupTemplate(\"permissionDenied\")), \"\\n      \" ];\n    }, function() {\n      return [ \"\\n        \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"browserNotSupportedError\"));\n      }, function() {\n        return [ \"\\n          \", Blaze._TemplateWith(function() {\n          return {\n            message: Spacebars.call(\"Sorry, this browser is currently not supported for camera functionality.\")\n          };\n        }, function() {\n          return Spacebars.include(view.lookupTemplate(\"genericError\"));\n        }), \"\\n        \" ];\n      }, function() {\n        return [ \"\\n          \", Blaze._TemplateWith(function() {\n          return {\n            message: Spacebars.call(\"There was an error accessing the camera.\")\n          };\n        }, function() {\n          return Spacebars.include(view.lookupTemplate(\"genericError\"));\n        }), \"\\n        \" ];\n      }), \"\\n      \" ];\n    }), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n      \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"photo\"));\n    }, function() {\n      return [ \"\\n        \", HTML.DIV({\n        \"class\": \"center\"\n      }, \"\\n          \", HTML.IMG({\n        src: function() {\n          return Spacebars.mustache(view.lookup(\"photo\"));\n        },\n        \"class\": \"photo-preview\"\n      }), \"\\n          \", HTML.DIV(\"\\n            \", HTML.BUTTON({\n        \"class\": \"button use-photo\"\n      }, \"Use Photo\"), \"\\n            \", HTML.BUTTON({\n        \"class\": \"button new-photo\"\n      }, \"Take New Photo\"), \"\\n          \"), \"\\n        \"), \"\\n      \" ];\n    }, function() {\n      return [ \"\\n        \", Spacebars.include(view.lookupTemplate(\"viewfinder\")), \"\\n      \" ];\n    }), \"\\n    \" ];\n  }), \"\\n  \") ];\n}));\n\nTemplate.__checkName(\"viewfinder\");\nTemplate[\"viewfinder\"] = new Template(\"Template.viewfinder\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    \"class\": \"viewfinder\"\n  }, \"\\n    \", HTML.VIDEO({\n    id: \"video\",\n    \"class\": function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"waitingForPermission\"));\n      }, function() {\n        return \"hidden\";\n      });\n    }\n  }, \"\\n      \"), \"\\n    \\n    \", HTML.DIV(\"\\n      \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"waitingForPermission\"));\n  }, function() {\n    return [ \"\\n        \", HTML.P(\"Waiting for camera permissions...\"), \"\\n      \" ];\n  }, function() {\n    return [ \"\\n        \", HTML.BUTTON({\n      \"class\": \"button shutter\"\n    }, \"Take Photo\"), \"\\n      \" ];\n  }), \"\\n      \", HTML.Raw('<button class=\"button cancel\">Cancel</button>'), \"\\n    \"), \"\\n  \"), HTML.Raw('\\n\\n  <canvas id=\"canvas\" style=\"visibility: hidden\"></canvas>') ];\n}));\n\nTemplate.__checkName(\"genericError\");\nTemplate[\"genericError\"] = new Template(\"Template.genericError\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"generic-error\"\n  }, \"\\n    \", HTML.P(Blaze.View(\"lookup:message\", function() {\n    return Spacebars.mustache(view.lookup(\"message\"));\n  })), HTML.Raw('\\n    <button class=\"button cancel\">Close Popup</button>\\n  '));\n}));\n\nTemplate.__checkName(\"permissionDenied\");\nTemplate[\"permissionDenied\"] = new Template(\"Template.permissionDenied\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"permission-denied-error\">\\n    <h2>Camera Permissions Denied</h2>\\n\\n    <p>\\n      You have denied this app permission to use your camera.\\n      If you would like to allow permissions, follow the directions for your\\n      browser below.\\n    </p>\\n\\n    <dl class=\"permissions-howto\">\\n      <dt>Google Chrome</dt>\\n        <dd>Go to Settings > \"Show advanced settings...\" >\\n          \"Content settings...\" > Media heading > \"Manage exceptions...\",\\n          then find this website in the list and allow video capture.</dd>\\n      <dt>Mozilla Firefox</dt>\\n        <dd>Reload the page and try again.</dd>\\n      <dt>Opera</dt>\\n        <dd>Go to Preferences > Websites > Media heading >\\n          \"Manage exceptions...\", then find this website in the list and\\n          allow video capture.</dd>\\n    </dl>\\n\\n    <button class=\"button cancel\">Close Popup</button>\\n  </div>');\n}));\n","MeteorCamera = {};","MeteorCamera.getPicture = function (options, callback) {\n  // if options are not passed\n  if (! callback) {\n    callback = options;\n    options = {};\n  }\n\n  var success = function (data) {\n    callback(null, \"data:image/jpeg;base64,\" + data);\n  };\n\n  var failure = function (error) {\n    callback(new Meteor.Error(\"cordovaError\", error));\n  };\n\n  navigator.camera.getPicture(success, failure, \n    _.extend(options, {\n      quality: options.quality || 49,\n      targetWidth: options.width || 640,\n      targetHeight: options.height || 480,\n      destinationType: Camera.DestinationType.DATA_URL\n    })\n  );\n};\n"]}}]